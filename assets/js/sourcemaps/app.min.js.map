{"version":3,"sources":["init.coffee","app.min.js"],"names":["$","$contactForm","$content","Scroller","contactFormHandle","init","scroller","setAttributes","svgSpritePath","wHeight","el","attrs","Array","prototype","slice","call","forEach","attr","name","setAttribute","value","document","querySelectorAll","element","svg","use","createElementNS","attributes","setAttributeNS","getAttribute","appendChild","parentNode","replaceChild","placeholder","FastClick","attach","body","window","height","this","latestKnownScrollY","ticking","on","requestAnimFrame","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","callback","setTimeout","addEventListener","onScroll","bind","scrollY","requestTick","update","currentScrollY","slowScroll","css","transform","-moz-transform","-webkit-transform","slick","slidesToShow","slidesToScroll","arrows","fade","asNavFor","dots","centerMode","focusOnSelect","map","mapElement","mapOptions","marker","scrollwheel","zoom","center","google","maps","LatLng","styles","featureType","elementType","stylers","color","visibility","getElementById","Map","Marker","position","title","event","addDomListener","show.uk.modal","parsley","hide.uk.modal","reset","preventDefault","isValid","val","email","message","ajax","type","url","data","key","from_email","to","listingConfig","owner","autotext","subject","address","html","done","response","console","log","jQuery"],"mappings":"CAAA,YAAA,SAAAA,GACA,YAAA,IAAAC,GAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,CAGAD,GAAA,8BAGAD,EAAA,SAAAG,EAAAC,GACAC,MAAAC,UAAAC,MAAAC,KAAAJ,GAAAK,QAAA,SAAAC,GACA,iBAAAA,EAAAC,MAAAR,EAAAS,aAAAF,EAAAC,KAAAD,EAAAG,UAIAR,MAAAC,UAAAG,QAAAD,KAAAM,SAAAC,iBAAA,kBAAA,SAAAC,GACA,GAAAC,GAAAC,CAAAD,GAAAH,SAAAK,gBAAA,6BAAA,OACAnB,EAAAiB,EAAAD,EAAAI,YAEAF,EAAAJ,SAAAK,gBAAA,6BAAA,OACAD,EAAAG,eACA,+BACA,aACApB,EAAA,IAAAe,EAAAM,aAAA,iBAGAL,EAAAM,YAAAL,GACAF,EAAAQ,WAAAC,aAAAR,EAAAD,KAIAvB,EAAA,iBAAAiC,cAGAC,UAAAC,OAAAd,SAAAe,MAGAlC,EAAAF,EAAA,mBACAS,EAAAT,EAAAqC,QAAAC,SAEAnC,EAAA,WACAoC,KAAAC,mBAAA,EACAD,KAAAE,SAAA,GAGAzC,EAAAqC,QAAAK,GAAA,SAAA,WACAjC,EAAAT,EAAAqC,QAAAC,WAIAD,OAAAM,iBAAA,WCfM,MDgBNN,QAAAO,uBAAAP,OAAAQ,6BAAAR,OAAAS,0BAAA,SAAAC,GACAV,OAAAW,WAAAD,EAAA,IAAA,QAEA5C,EAAAU,WACAR,KAAA,WACAgC,OAAAY,iBAAA,SAAAV,KAAAW,SAAAC,KAAAZ,OAAA,IAEAW,SAAA,WACAX,KAAAC,mBAAAH,OAAAe,QACAb,KAAAc,eAEAA,YAAA,WACAd,KAAAE,SACAJ,OAAAM,iBAAAJ,KAAAe,OAAAH,KAAAZ,OACAA,KAAAE,SAAA,GAEAa,OAAA,WACA,GAAAC,GAAAC,CAAAD,GAAAhB,KAAAC,mBACAD,KAAAE,SAAA,EAGAe,EAAAD,EAAA,EACArD,EAAAuD,KACAC,UAAA,eAAAF,EAAA,MACAG,iBAAA,eAAAH,EAAA,MACAI,oBAAA,eAAAJ,EAAA,UAGAlD,EAAA,GAAAH,GACAG,EAAAD,OAGAL,EAAA,eAAA6D,OACAC,aAAA,EACAC,eAAA,EACAC,QAAA,EACAC,MAAA,EACAC,SAAA,gBACAlE,EAAA,eAAA6D,OACAC,aAAA,EACAC,eAAA,EACAG,SAAA,cACAC,MAAA,EACAC,YAAA,EACAC,eAAA,IAKAhE,EAAA,WAGA,GAAAiE,GAAAC,EAAAC,EAAAC,CAAAD,IACAE,aAAA,EACAC,KAAA,GACAC,OAAA,GAAAC,QAAAC,KAAAC,OAAA,MAAA,QACAC,SAEAC,YAAA,qBACAC,YAAA,WACAC,UAAAC,MAAA,cAGAH,YAAA,oBACAC,YAAA,WACAC,UAAAC,MAAA,cAGAH,YAAA,4BACAC,YAAA,WACAC,UAAAE,WAAA,UAGAJ,YAAA,MACAC,YAAA,SACAC,UAAAE,WAAA,UAGAJ,YAAA,eACAC,YAAA,MACAC,UAAAE,WAAA,UAGAJ,YAAA,cACAC,YAAA,WACAC,UAAAC,MAAA,cAGAH,YAAA,WACAC,YAAA,WACAC,UAAAC,MAAA,cAGAH,YAAA,OACAC,YAAA,kBACAC,UAAAE,WAAA,UAGAJ,YAAA,OACAC,YAAA,SACAC,UAAAE,WAAA,UAGAJ,YAAA,eACAC,YAAA,gBACAC,UAAAC,MAAA,cAGAH,YAAA,eACAC,YAAA,kBACAC,UAAAC,MAAA,cAGAH,YAAA,gBACAC,YAAA,gBACAC,UAAAC,MAAA,cAGAH,YAAA,aACAC,YAAA,gBACAC,UAAAC,MAAA,YAGAH,YAAA,0BACAC,YAAA,gBACAC,UAAAC,MAAA,cAGAH,YAAA,QACAC,YAAA,WACAC,UAAAC,MAAA,eAKAb,EAAAlD,SAAAiE,eAAA,OAEAhB,EAAA,GAAAO,QAAAC,KAAAS,IAAAhB,EAAAC,GAEAC,EAAA,GAAAI,QAAAC,KAAAU,QACAC,SAAA,GAAAZ,QAAAC,KAAAC,OAAA,MAAA,QACAT,IAAAA,EACAoB,MAAA,aAGAb,OAAAC,KAAAa,MAAAC,eAAAvD,OAAA,OAAAhC,GAGAJ,EAAAD,EAAA,oBACAA,EAAA,kBAAA0C,IACAmD,gBAAA,WACA5F,EAAA6F,WAEAC,gBAAA,WACA9F,EAAA6F,UAAAE,WAGA/F,EAAAyC,GAAA,SAAA,SAAAiD,GACAA,EAAAM,iBAEAhG,EAAA6F,UAAAI,WACA9F,EACAJ,EAAA,sBAAAmG,MACAnG,EAAA,wBAAAmG,SAIA/F,EAAA,SAAAgG,EAAAC,GAqBA,MApBArG,GAAAsG,MACAC,KAAA,OACAC,IAAA,qDACAC,MACAC,IAAA,yBACAL,SACAM,WAAAP,EACAQ,KAEAR,MAAAS,cAAAC,MAAAV,MACAlF,KAAA2F,cAAAC,MAAA5F,KACAqF,KAAA,OAGAQ,SAAA,OACAC,QAAA,4BAAAH,cAAAI,QACAC,KAAAb,MACAc,KAAA,SAAAC,GACAC,QAAAC,IAAAF,MAEA,IAGAG,UCqBGxG,KAAKwB","file":"app.min.js","sourcesContent":["(($) ->\n  \"use strict\"\n\n  # SVG Icons\n  svgSpritePath = 'assets/svg/build/sprite.svg'\n\n  ## Set multiple attributes for element\n  setAttributes = (el, attrs) ->\n    Array::slice.call(attrs).forEach (attr) ->\n      el.setAttribute attr.name, attr.value unless attr.name is \"data-bt-icon\"\n      return\n    return\n\n  Array::forEach.call document.querySelectorAll(\"[data-bt-icon]\"), (element, index) ->\n    svg = document.createElementNS 'http://www.w3.org/2000/svg', 'svg'\n    setAttributes svg, element.attributes\n\n    use = document.createElementNS('http://www.w3.org/2000/svg', 'use')\n    use.setAttributeNS(\n      'http://www.w3.org/1999/xlink',\n      'xlink:href',\n      svgSpritePath + '#' + element.getAttribute \"data-bt-icon\"\n    )\n\n    svg.appendChild use\n    element.parentNode.replaceChild svg, element\n    return\n\n  # Placeholder\n  $('[placeholder]').placeholder()\n\n  # FastClick\n  FastClick.attach document.body\n\n  # Hero Parallax\n  $content = $('.le-hero__image')\n  wHeight = $(window).height()\n\n  Scroller = ->\n    @latestKnownScrollY = 0\n    @ticking = false\n    return\n\n  $(window).on 'resize', ->\n    wHeight = $(window).height()\n    return\n\n  # requestAnimationFrame Shim\n  window.requestAnimFrame = do ->\n    window.requestAnimationFrame or window.webkitRequestAnimationFrame or window.mozRequestAnimationFrame or (callback) ->\n      window.setTimeout callback, 1000 / 60\n      return\n  Scroller.prototype =\n    init: ->\n      window.addEventListener 'scroll', @onScroll.bind(this), false\n      return\n    onScroll: ->\n      @latestKnownScrollY = window.scrollY\n      @requestTick()\n      return\n    requestTick: ->\n      if !@ticking\n        window.requestAnimFrame @update.bind(this)\n      @ticking = true\n      return\n    update: ->\n      currentScrollY = @latestKnownScrollY\n      @ticking = false\n\n      # Do The Dirty Work Here\n      slowScroll = currentScrollY / 8\n      $content.css\n        'transform': 'translateY(-' + slowScroll + 'px)'\n        '-moz-transform': 'translateY(-' + slowScroll + 'px)'\n        '-webkit-transform': 'translateY(-' + slowScroll + 'px)'\n      return\n\n  scroller = new Scroller\n  scroller.init()\n\n  # Photos\n  $('.slider-for').slick\n    slidesToShow: 1\n    slidesToScroll: 1\n    arrows: false\n    fade: true\n    asNavFor: '.slider-nav'\n  $('.slider-nav').slick\n    slidesToShow: 3\n    slidesToScroll: 1\n    asNavFor: '.slider-for'\n    dots: true\n    centerMode: true\n    focusOnSelect: true\n\n  # Map\n  # https://snazzymaps.com/style/42/apple-maps-esque\n\n  init = ->\n    # Basic options for a simple Google Map\n    # For more options see: https://developers.google.com/maps/documentation/javascript/reference#MapOptions\n    mapOptions =\n      scrollwheel: false\n      zoom: 13\n      center: new (google.maps.LatLng)(40.6700, -73.9400)\n      styles: [\n        {\n          'featureType': 'landscape.man_made'\n          'elementType': 'geometry'\n          'stylers': [ { 'color': '#f7f1df' } ]\n        }\n        {\n          'featureType': 'landscape.natural'\n          'elementType': 'geometry'\n          'stylers': [ { 'color': '#d0e3b4' } ]\n        }\n        {\n          'featureType': 'landscape.natural.terrain'\n          'elementType': 'geometry'\n          'stylers': [ { 'visibility': 'off' } ]\n        }\n        {\n          'featureType': 'poi'\n          'elementType': 'labels'\n          'stylers': [ { 'visibility': 'off' } ]\n        }\n        {\n          'featureType': 'poi.business'\n          'elementType': 'all'\n          'stylers': [ { 'visibility': 'off' } ]\n        }\n        {\n          'featureType': 'poi.medical'\n          'elementType': 'geometry'\n          'stylers': [ { 'color': '#fbd3da' } ]\n        }\n        {\n          'featureType': 'poi.park'\n          'elementType': 'geometry'\n          'stylers': [ { 'color': '#bde6ab' } ]\n        }\n        {\n          'featureType': 'road'\n          'elementType': 'geometry.stroke'\n          'stylers': [ { 'visibility': 'off' } ]\n        }\n        {\n          'featureType': 'road'\n          'elementType': 'labels'\n          'stylers': [ { 'visibility': 'off' } ]\n        }\n        {\n          'featureType': 'road.highway'\n          'elementType': 'geometry.fill'\n          'stylers': [ { 'color': '#ffe15f' } ]\n        }\n        {\n          'featureType': 'road.highway'\n          'elementType': 'geometry.stroke'\n          'stylers': [ { 'color': '#efd151' } ]\n        }\n        {\n          'featureType': 'road.arterial'\n          'elementType': 'geometry.fill'\n          'stylers': [ { 'color': '#ffffff' } ]\n        }\n        {\n          'featureType': 'road.local'\n          'elementType': 'geometry.fill'\n          'stylers': [ { 'color': 'black' } ]\n        }\n        {\n          'featureType': 'transit.station.airport'\n          'elementType': 'geometry.fill'\n          'stylers': [ { 'color': '#cfb2db' } ]\n        }\n        {\n          'featureType': 'water'\n          'elementType': 'geometry'\n          'stylers': [ { 'color': '#a2daf2' } ]\n        }\n      ]\n    # Get the HTML DOM element that will contain your map\n    # We are using a section with id=\"map\" seen below in the <body>\n    mapElement = document.getElementById('map')\n    # Create the Google Map using our element and options defined above\n    map = new (google.maps.Map)(mapElement, mapOptions)\n    # Let's also add a marker while we're at it\n    marker = new (google.maps.Marker)(\n      position: new (google.maps.LatLng)(40.6700, -73.9400)\n      map: map\n      title: 'Snazzy!')\n    return\n\n  google.maps.event.addDomListener window, 'load', init\n\n  # Contact\n  $contactForm = $('.js-contact-form')\n  $('#contact-agent').on\n    'show.uk.modal': ->\n      $contactForm.parsley()\n      return\n    'hide.uk.modal': ->\n      $contactForm.parsley().reset()\n      return\n\n  $contactForm.on 'submit', (event) ->\n    event.preventDefault()\n\n    if $contactForm.parsley().isValid()\n      contactFormHandle(\n        $('.js-contact__email').val()\n        $('.js-contact__message').val()\n      )\n      return\n\n  contactFormHandle = (email, message) ->\n    $.ajax(\n      type: 'POST'\n      url: 'https://mandrillapp.com/api/1.0/messages/send.json'\n      data:\n        'key': '88ULKx-fpCeYrKZriugCgw'\n        'message':\n          'from_email': email\n          'to': [\n            {\n              'email': listingConfig.owner.email\n              'name': listingConfig.owner.name\n              'type': 'to'\n            }\n          ]\n          'autotext': 'true'\n          'subject': 'Contact Submission about ' + listingConfig.address\n          'html': message\n    ).done (response) ->\n      console.log response\n      return\n    return false\n\n  return\n) jQuery",null],"sourceRoot":"/source/"}